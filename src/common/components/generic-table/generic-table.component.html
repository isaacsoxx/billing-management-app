<section
  *ngIf="dataSourceState$ | async as dataSourceState"
  class="generic-table-container mat-elevation-z8"
>
  <table
    mat-table
    [dataSource]="dataSourceState.data"
    *ngIf="dataSourceState.hasData"
  >
    <ng-container
      *ngFor="let column of columns"
      [matColumnDef]="column.columnDef"
    >
      <th mat-header-cell *matHeaderCellDef class="generic-table-header-cell">
        {{ column.displayName }}
      </th>
      <td mat-cell *matCellDef="let row" class="generic-table-content-cell">
        {{ row[column.columnDef] }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns"
      class="generic-table-content-row"
      [ngClass]="selectedRow === row ? 'generic-table-content-row-active' : ''"
      (click)="setSelectedRow(row)"
    ></tr>
  </table>

  <ng-container *ngIf="!dataSourceState.hasData && !dataSourceState.error">
    <section class="empty-table-template">
      <h5>No fue posible encontrar recursos</h5>
      <p>Asegúrese de tener recursos activos.</p>
      <mat-icon>search</mat-icon>
    </section>
  </ng-container>

  <ng-container *ngIf="!dataSourceState.hasData && dataSourceState.error">
    <section class="empty-table-template">
      <h5>No fue posible obtener recursos</h5>
      <p>
        Asegúrese de tener conexión a internet activa y que tenga los permisos
        adecuados para acceder a este recurso.
      </p>
      <mat-icon>sync_problem</mat-icon>
    </section>
  </ng-container>
</section>
